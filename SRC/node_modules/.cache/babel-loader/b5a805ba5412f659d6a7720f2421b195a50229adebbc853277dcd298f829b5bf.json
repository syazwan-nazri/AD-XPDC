{"ast":null,"code":"import { gridColumnDefinitionsSelector, gridVisibleColumnDefinitionsSelector } from \"../columns/index.js\";\nimport { gridFilteredSortedRowIdsSelector } from \"../filter/index.js\";\nimport { gridPinnedRowsSelector, gridRowTreeSelector } from \"../rows/gridRowsSelector.js\";\nimport { gridRowSelectionCountSelector, gridRowSelectionIdsSelector } from \"../rowSelection/gridRowSelectionSelector.js\";\nexport const getColumnsToExport = ({\n  apiRef,\n  options\n}) => {\n  const columns = gridColumnDefinitionsSelector(apiRef);\n  if (options.fields) {\n    return options.fields.reduce((currentColumns, field) => {\n      const column = columns.find(col => col.field === field);\n      if (column) {\n        currentColumns.push(column);\n      }\n      return currentColumns;\n    }, []);\n  }\n  const validColumns = options.allColumns ? columns : gridVisibleColumnDefinitionsSelector(apiRef);\n  return validColumns.filter(column => column.disableExport !== true);\n};\nexport const defaultGetRowsToExport = ({\n  apiRef\n}) => {\n  const filteredSortedRowIds = gridFilteredSortedRowIdsSelector(apiRef);\n  const rowTree = gridRowTreeSelector(apiRef);\n  const selectedRowsCount = gridRowSelectionCountSelector(apiRef);\n  const bodyRows = filteredSortedRowIds.filter(id => rowTree[id].type !== 'footer');\n  const pinnedRows = gridPinnedRowsSelector(apiRef);\n  const topPinnedRowsIds = pinnedRows?.top?.map(row => row.id) || [];\n  const bottomPinnedRowsIds = pinnedRows?.bottom?.map(row => row.id) || [];\n  bodyRows.unshift(...topPinnedRowsIds);\n  bodyRows.push(...bottomPinnedRowsIds);\n  if (selectedRowsCount > 0) {\n    const selectedRows = gridRowSelectionIdsSelector(apiRef);\n    return bodyRows.filter(id => selectedRows.has(id));\n  }\n  return bodyRows;\n};","map":{"version":3,"names":["gridColumnDefinitionsSelector","gridVisibleColumnDefinitionsSelector","gridFilteredSortedRowIdsSelector","gridPinnedRowsSelector","gridRowTreeSelector","gridRowSelectionCountSelector","gridRowSelectionIdsSelector","getColumnsToExport","apiRef","options","columns","fields","reduce","currentColumns","field","column","find","col","push","validColumns","allColumns","filter","disableExport","defaultGetRowsToExport","filteredSortedRowIds","rowTree","selectedRowsCount","bodyRows","id","type","pinnedRows","topPinnedRowsIds","top","map","row","bottomPinnedRowsIds","bottom","unshift","selectedRows","has"],"sources":["C:/Users/ammar/Documents/GitHub/AD-XPDC/SRC/node_modules/@mui/x-data-grid/esm/hooks/features/export/utils.js"],"sourcesContent":["import { gridColumnDefinitionsSelector, gridVisibleColumnDefinitionsSelector } from \"../columns/index.js\";\nimport { gridFilteredSortedRowIdsSelector } from \"../filter/index.js\";\nimport { gridPinnedRowsSelector, gridRowTreeSelector } from \"../rows/gridRowsSelector.js\";\nimport { gridRowSelectionCountSelector, gridRowSelectionIdsSelector } from \"../rowSelection/gridRowSelectionSelector.js\";\nexport const getColumnsToExport = ({\n  apiRef,\n  options\n}) => {\n  const columns = gridColumnDefinitionsSelector(apiRef);\n  if (options.fields) {\n    return options.fields.reduce((currentColumns, field) => {\n      const column = columns.find(col => col.field === field);\n      if (column) {\n        currentColumns.push(column);\n      }\n      return currentColumns;\n    }, []);\n  }\n  const validColumns = options.allColumns ? columns : gridVisibleColumnDefinitionsSelector(apiRef);\n  return validColumns.filter(column => column.disableExport !== true);\n};\nexport const defaultGetRowsToExport = ({\n  apiRef\n}) => {\n  const filteredSortedRowIds = gridFilteredSortedRowIdsSelector(apiRef);\n  const rowTree = gridRowTreeSelector(apiRef);\n  const selectedRowsCount = gridRowSelectionCountSelector(apiRef);\n  const bodyRows = filteredSortedRowIds.filter(id => rowTree[id].type !== 'footer');\n  const pinnedRows = gridPinnedRowsSelector(apiRef);\n  const topPinnedRowsIds = pinnedRows?.top?.map(row => row.id) || [];\n  const bottomPinnedRowsIds = pinnedRows?.bottom?.map(row => row.id) || [];\n  bodyRows.unshift(...topPinnedRowsIds);\n  bodyRows.push(...bottomPinnedRowsIds);\n  if (selectedRowsCount > 0) {\n    const selectedRows = gridRowSelectionIdsSelector(apiRef);\n    return bodyRows.filter(id => selectedRows.has(id));\n  }\n  return bodyRows;\n};"],"mappings":"AAAA,SAASA,6BAA6B,EAAEC,oCAAoC,QAAQ,qBAAqB;AACzG,SAASC,gCAAgC,QAAQ,oBAAoB;AACrE,SAASC,sBAAsB,EAAEC,mBAAmB,QAAQ,6BAA6B;AACzF,SAASC,6BAA6B,EAAEC,2BAA2B,QAAQ,6CAA6C;AACxH,OAAO,MAAMC,kBAAkB,GAAGA,CAAC;EACjCC,MAAM;EACNC;AACF,CAAC,KAAK;EACJ,MAAMC,OAAO,GAAGV,6BAA6B,CAACQ,MAAM,CAAC;EACrD,IAAIC,OAAO,CAACE,MAAM,EAAE;IAClB,OAAOF,OAAO,CAACE,MAAM,CAACC,MAAM,CAAC,CAACC,cAAc,EAAEC,KAAK,KAAK;MACtD,MAAMC,MAAM,GAAGL,OAAO,CAACM,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACH,KAAK,KAAKA,KAAK,CAAC;MACvD,IAAIC,MAAM,EAAE;QACVF,cAAc,CAACK,IAAI,CAACH,MAAM,CAAC;MAC7B;MACA,OAAOF,cAAc;IACvB,CAAC,EAAE,EAAE,CAAC;EACR;EACA,MAAMM,YAAY,GAAGV,OAAO,CAACW,UAAU,GAAGV,OAAO,GAAGT,oCAAoC,CAACO,MAAM,CAAC;EAChG,OAAOW,YAAY,CAACE,MAAM,CAACN,MAAM,IAAIA,MAAM,CAACO,aAAa,KAAK,IAAI,CAAC;AACrE,CAAC;AACD,OAAO,MAAMC,sBAAsB,GAAGA,CAAC;EACrCf;AACF,CAAC,KAAK;EACJ,MAAMgB,oBAAoB,GAAGtB,gCAAgC,CAACM,MAAM,CAAC;EACrE,MAAMiB,OAAO,GAAGrB,mBAAmB,CAACI,MAAM,CAAC;EAC3C,MAAMkB,iBAAiB,GAAGrB,6BAA6B,CAACG,MAAM,CAAC;EAC/D,MAAMmB,QAAQ,GAAGH,oBAAoB,CAACH,MAAM,CAACO,EAAE,IAAIH,OAAO,CAACG,EAAE,CAAC,CAACC,IAAI,KAAK,QAAQ,CAAC;EACjF,MAAMC,UAAU,GAAG3B,sBAAsB,CAACK,MAAM,CAAC;EACjD,MAAMuB,gBAAgB,GAAGD,UAAU,EAAEE,GAAG,EAAEC,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACN,EAAE,CAAC,IAAI,EAAE;EAClE,MAAMO,mBAAmB,GAAGL,UAAU,EAAEM,MAAM,EAAEH,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACN,EAAE,CAAC,IAAI,EAAE;EACxED,QAAQ,CAACU,OAAO,CAAC,GAAGN,gBAAgB,CAAC;EACrCJ,QAAQ,CAACT,IAAI,CAAC,GAAGiB,mBAAmB,CAAC;EACrC,IAAIT,iBAAiB,GAAG,CAAC,EAAE;IACzB,MAAMY,YAAY,GAAGhC,2BAA2B,CAACE,MAAM,CAAC;IACxD,OAAOmB,QAAQ,CAACN,MAAM,CAACO,EAAE,IAAIU,YAAY,CAACC,GAAG,CAACX,EAAE,CAAC,CAAC;EACpD;EACA,OAAOD,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}