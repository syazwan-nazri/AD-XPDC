{"ast":null,"code":"import { db } from '../firebase/config';\nimport { doc, setDoc } from 'firebase/firestore';\nconst defaultGroups = [{\n  groupId: 'A',\n  groupName: 'Admin',\n  description: 'Administrator group with full access',\n  permissions: {\n    inventory: true,\n    procurement: true,\n    maintenance: true,\n    admin: true\n  }\n}, {\n  groupId: 'S',\n  groupName: 'Store keeper',\n  description: 'Manages inventory and stock',\n  permissions: {\n    inventory: true,\n    procurement: false,\n    maintenance: false,\n    admin: false\n  }\n}, {\n  groupId: 'M',\n  groupName: 'Maintenance technician',\n  description: 'Handles maintenance requests',\n  permissions: {\n    inventory: false,\n    procurement: false,\n    maintenance: true,\n    admin: false\n  }\n}, {\n  groupId: 'P',\n  groupName: 'Procurement officer',\n  description: 'Manages purchases and orders',\n  permissions: {\n    inventory: false,\n    procurement: true,\n    maintenance: false,\n    admin: false\n  }\n}];\nexport const initializeUserGroups = async () => {\n  try {\n    // Create each default group with groupId as the document ID\n    const batch = db.batch();\n    for (const group of defaultGroups) {\n      const groupRef = doc(db, 'userGroups', group.groupId);\n      batch.set(groupRef, group, {\n        merge: true\n      }); // Using merge to avoid overwriting existing data\n    }\n    await batch.commit();\n    console.log('User groups initialized successfully');\n    return true;\n  } catch (error) {\n    console.error('Error initializing user groups:', error);\n    return false;\n  }\n};","map":{"version":3,"names":["db","doc","setDoc","defaultGroups","groupId","groupName","description","permissions","inventory","procurement","maintenance","admin","initializeUserGroups","batch","group","groupRef","set","merge","commit","console","log","error"],"sources":["C:/Users/ammar/Documents/GitHub/AD-XPDC/SRC/src/utils/initializeGroups.js"],"sourcesContent":["import { db } from '../firebase/config';\r\nimport { doc, setDoc } from 'firebase/firestore';\r\n\r\nconst defaultGroups = [\r\n  {\r\n    groupId: 'A',\r\n    groupName: 'Admin',\r\n    description: 'Administrator group with full access',\r\n    permissions: {\r\n      inventory: true,\r\n      procurement: true,\r\n      maintenance: true,\r\n      admin: true\r\n    }\r\n  },\r\n  {\r\n    groupId: 'S',\r\n    groupName: 'Store keeper',\r\n    description: 'Manages inventory and stock',\r\n    permissions: {\r\n      inventory: true,\r\n      procurement: false,\r\n      maintenance: false,\r\n      admin: false\r\n    }\r\n  },\r\n  {\r\n    groupId: 'M',\r\n    groupName: 'Maintenance technician',\r\n    description: 'Handles maintenance requests',\r\n    permissions: {\r\n      inventory: false,\r\n      procurement: false,\r\n      maintenance: true,\r\n      admin: false\r\n    }\r\n  },\r\n  {\r\n    groupId: 'P',\r\n    groupName: 'Procurement officer',\r\n    description: 'Manages purchases and orders',\r\n    permissions: {\r\n      inventory: false,\r\n      procurement: true,\r\n      maintenance: false,\r\n      admin: false\r\n    }\r\n  }\r\n];\r\n\r\nexport const initializeUserGroups = async () => {\r\n  try {\r\n    // Create each default group with groupId as the document ID\r\n    const batch = db.batch();\r\n    \r\n    for (const group of defaultGroups) {\r\n      const groupRef = doc(db, 'userGroups', group.groupId);\r\n      batch.set(groupRef, group, { merge: true }); // Using merge to avoid overwriting existing data\r\n    }\r\n    \r\n    await batch.commit();\r\n    console.log('User groups initialized successfully');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error initializing user groups:', error);\r\n    return false;\r\n  }\r\n};"],"mappings":"AAAA,SAASA,EAAE,QAAQ,oBAAoB;AACvC,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAEhD,MAAMC,aAAa,GAAG,CACpB;EACEC,OAAO,EAAE,GAAG;EACZC,SAAS,EAAE,OAAO;EAClBC,WAAW,EAAE,sCAAsC;EACnDC,WAAW,EAAE;IACXC,SAAS,EAAE,IAAI;IACfC,WAAW,EAAE,IAAI;IACjBC,WAAW,EAAE,IAAI;IACjBC,KAAK,EAAE;EACT;AACF,CAAC,EACD;EACEP,OAAO,EAAE,GAAG;EACZC,SAAS,EAAE,cAAc;EACzBC,WAAW,EAAE,6BAA6B;EAC1CC,WAAW,EAAE;IACXC,SAAS,EAAE,IAAI;IACfC,WAAW,EAAE,KAAK;IAClBC,WAAW,EAAE,KAAK;IAClBC,KAAK,EAAE;EACT;AACF,CAAC,EACD;EACEP,OAAO,EAAE,GAAG;EACZC,SAAS,EAAE,wBAAwB;EACnCC,WAAW,EAAE,8BAA8B;EAC3CC,WAAW,EAAE;IACXC,SAAS,EAAE,KAAK;IAChBC,WAAW,EAAE,KAAK;IAClBC,WAAW,EAAE,IAAI;IACjBC,KAAK,EAAE;EACT;AACF,CAAC,EACD;EACEP,OAAO,EAAE,GAAG;EACZC,SAAS,EAAE,qBAAqB;EAChCC,WAAW,EAAE,8BAA8B;EAC3CC,WAAW,EAAE;IACXC,SAAS,EAAE,KAAK;IAChBC,WAAW,EAAE,IAAI;IACjBC,WAAW,EAAE,KAAK;IAClBC,KAAK,EAAE;EACT;AACF,CAAC,CACF;AAED,OAAO,MAAMC,oBAAoB,GAAG,MAAAA,CAAA,KAAY;EAC9C,IAAI;IACF;IACA,MAAMC,KAAK,GAAGb,EAAE,CAACa,KAAK,CAAC,CAAC;IAExB,KAAK,MAAMC,KAAK,IAAIX,aAAa,EAAE;MACjC,MAAMY,QAAQ,GAAGd,GAAG,CAACD,EAAE,EAAE,YAAY,EAAEc,KAAK,CAACV,OAAO,CAAC;MACrDS,KAAK,CAACG,GAAG,CAACD,QAAQ,EAAED,KAAK,EAAE;QAAEG,KAAK,EAAE;MAAK,CAAC,CAAC,CAAC,CAAC;IAC/C;IAEA,MAAMJ,KAAK,CAACK,MAAM,CAAC,CAAC;IACpBC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnD,OAAO,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,OAAO,KAAK;EACd;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}